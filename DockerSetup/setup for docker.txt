# IF project clone in github
cd .env.example .env
php artisan key:generate

# 1. Build images
docker-compose build --no-cache

# 2. Start containers
docker-compose up -d

# 3. Run migrations
docker-compose exec laravel.test php artisan migrate

# 4. Install npm packages
docker-compose exec laravel.test npm install

# 5. Optimize Laravel
docker-compose exec laravel.test php artisan config:cache
docker-compose exec laravel.test php artisan route:cache
docker-compose exec laravel.test php artisan view:cache

# Check running containers
docker-compose ps

#if need reset for permission issue
docker-compose restart
# Stop containers
docker-compose down

# Fix permissions (important!)
docker-compose up -d
docker-compose exec -u root laravel.test chmod -R 775 storage bootstrap/cache
docker-compose exec -u root laravel.test chown -R www-data:www-data storage bootstrap/cache

# Clear and optimize
docker-compose exec laravel.test php artisan optimize:clear
docker-compose exec laravel.test php artisan optimize